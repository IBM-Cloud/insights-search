language: node_js
node_js:
- '0.12'
sudo: true
env:
  global:
  - CF_APP=insights-search
  - secure: "S7SiUuDiI/odpRgvPilfL7dgBKqWlRJ/HC/8IdamBRaCpTcczU58RUBZFt7e5bkSKsRYr6GfZwUqlD2PKVg8P7M/Oegi07u5ysv57ATfcIsVmO3zBPFRKLQzx7Pcg8qx7D5ti5UP7VS6xQkajVXGQ7bWQ1wX2DcXw37IQI9/US/6wqtbIia4QzFtzC4pSGKUqLogR8A47Oys99whg5lOtAqwCZZg0vaj4FEyodyKbQoMAeJVG6J84XuJbO9Eneq9x8eYEkQ+oXey7JJsYJ6n+fhkQCoXzakKbwbvoG5TMlZ2a7TD3sBJWbg3P4heeStC9sg6Dbs6mJ0/7L6xm9YcjFLl0hWQ3JN7YKU06GDnaSQQ5dSBqAYjmqBT/g/Nb9oWTn7xIQ+1wXCP5oyZQRMZc5UNSdWTiVWZhmW0QrdVVv2QNfD4Z22/O6D0uqJdV2L3zfbeeYzwO7Zg3X0P8o/wrSlQla9GpI3NGi7tLtispDQW0aVk3wKPuyBdjuD8Og0/6xApL5UF73QY+nNuGlUQUcAk/PvzE5g9zptWBy6PiD2lKI/z4htcs/7FZY+2OOOqE1ueTjlTsOlQhSMhen2AY4zkov9J8GNbqXcK62g2YiWk6+oBWasT7JxRohQwEYLLnHv7PioChUVxo12Txa4hdV3qQiPNqyPIgpUy92tlcok="
  - secure: "eINjwxzXGajACJ9s/8M6yE0d+EW6PJTxq5AXR2QWSKBYL/q2UZfd2kuongduN3ncAR5Np0WgawhzW0uuZJQ7bS1tdiQ3MK8aza/iMGbM0I7OYWATbTo7quphS48UYgaFZw0MrkiR+jzrO/kAA7G2LHskZpxpdmYn8cUV95zcWK86eVyHjBgBnYsIV6YB7Y/sE44I8ErR8AphqhfmLuGhoqxUXKkzCBAXyay8z/flq6T8Pka+QhQE5lyW5SpbkCoBE3gNVJ8XeRQvaGbulij+elPzXeuv7PW48V0dw92xySN2mEgSb/+AWNJOZoxfEsl+du465TyaxoDWdZEQKPFDAn4Nx8IDH1/Gcdc2qRlFItjvHtKG3nTfQYA/P5rtsJLC/N5fba1yUTPTCUCu6I05u2EBEK4DvN/tw+yApJbilVigPhyyedtfLrAwcskB0unW1pe9D09+HU+bsZzxg0DiBNn9SHo8V9o8Xv9aj3hvJshUGTNzyHkf5x9bEl6YEUxJEoQ4YHA9w43mQgII96Fj1ZvEkhNqo413Yh7e3oyt4JGAyqaz+DIcOxCl2oh9at3JH3c6uixK+0mjsksU5lBlw8J1IeGNMKhuszH6qMycIBMUCMkidh80jqKN3YKi7cP3/8qx34spcy05t4Sut8uXqXU6iUqvg41aE3jebJYzrU4="
  - CF_SPACE=dev
  - secure: "EchMxsjsIwlg+PZIuD9dPfZWzFcGOEKUi+AuNnBbfqD1DpNyTUKgvBYnaYQR0ccteOupUmSqvKn11wKz9bWLlskjJVdBMxUI9n1qZPXQUSdkftF3pDMhz3SH53W8j2eLrRk6TNuPrqTpjHWuw5ze92jH8MBtjWB3k122LL1eKI6gIb6UTv2S0bo/JKYPDA6bpD23+6vPAXbmNvOrfBuOmz9rJkupPBqLEx8p8yKUTlTrG+y02kWnedpcx19661kEenQ2bT59kd9sWhB4YjxXkqeeHRGfL2OC/Om9nBUQlMANWoxKH7zrBmHVNZGT4feN/xcS3W3Bszw6Vv9DO6upXPPTbRRnVxxwvr0Wdh7ZxEPPJw/vSR1yZeQbZxw9OFhyyBcH5a71/5Gtdn6ki7rq1j/+F3rH3E5WOGugLM5KQQBbdhzeEcAti8cQLsTjXkzc6hcn0gJ2W+aN7eh09QXJahpgRmqF5a8acnx9HBCzVS0qNv4t2vjLPYvuGstwdmGhrqJ9zD+G3ZPLjnwp6YY0olTWlwyMG/Qn+zrW/Wv0VOpiHbpeYe9GuEc57FXi4OFKsaU7Wjvxi9ZuhCXDXeoSQB8Vkg+18ge34BO/LXRunFtVrCL/9RZ/UYNEtIO+HD1Ej7gaqoE7ysDJFPvPM0pvZArCH7B631xPCaIFAZt2qLU="
before_deploy: npm install -g cf-blue-green
deploy:
  provider: script
  script: export CF_API=https://api.ng.bluemix.net && cf-blue-green-travis && export CF_API=https://api.eu-gb.bluemix.net && cf-blue-green-travis
  on:
    branch: master
    repo: IBM-Bluemix/insights-search
